{"version":3,"file":"commonHelpers.js","sources":["../src/js/pagination.js","../src/js/search-form.js","../src/js/api.js","../src/js/events.js","../src/js/modal.js"],"sourcesContent":["import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\n\nimport { renderData } from './events';\nimport { query } from './search-form';\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst pagination = new Pagination('pagination', options); // 'pagination' = id Ð² div\nexport const page = pagination.getCurrentPage();\n\nexport function reset(totalItems) {\n  pagination.reset(totalItems);\n}\n\npagination.on('afterMove', event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n\n  renderData(currentPage, query);\n});\n","import {renderData} from './events';\nimport { page } from './pagination';\n\nconst list = document.querySelector('.list');\nconst form = document.querySelector('.search-form');\nform.addEventListener('submit', handleSubmit);\n\nexport let query = ''; \n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    query = event.target.elements.searchQuery.value\n    console.log(query);\n    \n    list.innerHTML = '';\n    renderData(page, query);\n}","import axios from \"axios\";\nimport { query } from './search-form';\n\nconst BASE_URL = 'https://app.ticketmaster.com/discovery/v2/';\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\n\nexport async function fetchData(page) { \n    const resp = await axios.get(`${BASE_URL}events.json?page=${page}&apikey=${API_KEY}&keyword=${query}`);\n    console.log(resp.data);\n    return resp.data;\n\n}   \nexport async function fetchDataId(id) {\n    const resp = await axios.get(`${BASE_URL}events.json?id=${id}&apikey=${API_KEY}`);\n\n    return resp.data;\n}\n\nfetchDataId ('Z7r9jZ1AdP973');","import { fetchData } from './api';\nimport { page, reset } from './pagination';\nimport { query } from './search-form';\n\nconst list = document.querySelector('.list');\n\nfunction createMarkup(data) {\n  const markup = data\n    .map(\n      ({ id, name }) =>\n        `<li id=\"${id}\">\n            <p id=\"${id}\">${name}</p>\n        </li>`\n    )\n    .join('');\n\n  list.innerHTML = markup;\n}\n\nexport async function renderData(page, query) {\n  const data = await fetchData(page, query);\n  console.log(data._embedded.events);\n\n  if (page === 1) {\n    reset(data.page.totalElements);\n  }\n  createMarkup(data._embedded.events);\n}\n\nrenderData(page, query);\n","import { fetchDataId } from './api';\n\nconst list = document.querySelector('.list');\nconst backdrop = document.querySelector('.backdrop');\nconst modal = document.querySelector('.modal');\n\nlist.addEventListener('click', handleClick);\n\nfunction handleClick(event) {\n\n  const id = event.target.id;\n  backdrop.classList.remove('is-hidden');\n  // console.log(id);\n  getEvent(id);\n}\n\nfunction createMarkupModal(data) {\n  const markupModal = `<div class=\"modal-div\"> \n  <img src=\"${data[0].images[0].url}\" alt=\"${data[0].name}\"/>\n<p>${data[0].name}</p></div>`;\n  modal.innerHTML = markupModal;\n}\n\nasync function getEvent(id) {\n  const data = await fetchDataId(id);\n  createMarkupModal(data._embedded.events);\n}\n\nbackdrop.addEventListener('click', closeModal);\n\n\nfunction closeModal() {\nbackdrop.classList.add('is-hidden')\n}"],"names":["options","pagination","Pagination","page","reset","totalItems","event","currentPage","renderData","list","form","handleSubmit","query","BASE_URL","API_KEY","fetchData","resp","axios","fetchDataId","id","createMarkup","data","markup","name","backdrop","modal","handleClick","getEvent","createMarkupModal","markupModal","closeModal"],"mappings":"6vBAMA,MAAMA,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAC1CG,EAAOF,EAAW,iBAExB,SAASG,EAAMC,EAAY,CAChCJ,EAAW,MAAMI,CAAU,CAC7B,CAEAJ,EAAW,GAAG,YAAaK,GAAS,CAClC,MAAMC,EAAcD,EAAM,KAC1B,QAAQ,IAAIC,CAAW,EAEvBC,EAAWD,CAAkB,CAC/B,CAAC,EC1CD,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAY,EAErC,IAAIC,EAAQ,GAEnB,SAASD,EAAaL,EAAO,CACzBA,EAAM,eAAc,EACpBM,EAAQN,EAAM,OAAO,SAAS,YAAY,MAC1C,QAAQ,IAAIM,CAAK,EAEjBH,EAAK,UAAY,GACjBD,EAAWL,CAAW,CAC1B,CCbA,MAAMU,EAAW,6CACXC,EAAU,mCAET,eAAeC,EAAUZ,EAAM,CAClC,MAAMa,EAAO,MAAMC,EAAM,IAAI,GAAGJ,CAAQ,oBAAoBV,CAAI,WAAWW,CAAO,YAAYF,CAAK,EAAE,EACrG,eAAQ,IAAII,EAAK,IAAI,EACdA,EAAK,IAEhB,CACO,eAAeE,EAAYC,EAAI,CAGlC,OAFa,MAAMF,EAAM,IAAI,GAAGJ,CAAQ,kBAAkBM,CAAE,WAAWL,CAAO,EAAE,GAEpE,IAChB,CAEAI,EAAa,eAAe,ECd5B,MAAMT,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASW,EAAaC,EAAM,CAC1B,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,GAAAF,EAAI,KAAAI,CAAM,IACX,WAAWJ,CAAE;AAAA,qBACAA,CAAE,KAAKI,CAAI;AAAA,cAE3B,EACA,KAAK,EAAE,EAEVd,EAAK,UAAYa,CACnB,CAEO,eAAed,EAAWL,EAAMS,EAAO,CAC5C,MAAMS,EAAO,MAAMN,EAAUZ,CAAW,EACxC,QAAQ,IAAIkB,EAAK,UAAU,MAAM,EAE7BlB,IAAS,GACXC,EAAMiB,EAAK,KAAK,aAAa,EAE/BD,EAAaC,EAAK,UAAU,MAAM,CACpC,CAEAb,EAAWL,CAAW,EC3BtB,MAAMM,EAAO,SAAS,cAAc,OAAO,EACrCe,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAQ,SAAS,cAAc,QAAQ,EAE7ChB,EAAK,iBAAiB,QAASiB,CAAW,EAE1C,SAASA,EAAYpB,EAAO,CAE1B,MAAMa,EAAKb,EAAM,OAAO,GACxBkB,EAAS,UAAU,OAAO,WAAW,EAErCG,EAASR,CAAE,CACb,CAEA,SAASS,EAAkBP,EAAM,CAC/B,MAAMQ,EAAc;AAAA,cACRR,EAAK,CAAC,EAAE,OAAO,CAAC,EAAE,GAAG,UAAUA,EAAK,CAAC,EAAE,IAAI;AAAA,KACpDA,EAAK,CAAC,EAAE,IAAI,aACfI,EAAM,UAAYI,CACpB,CAEA,eAAeF,EAASR,EAAI,CAC1B,MAAME,EAAO,MAAMH,EAAYC,CAAE,EACjCS,EAAkBP,EAAK,UAAU,MAAM,CACzC,CAEAG,EAAS,iBAAiB,QAASM,CAAU,EAG7C,SAASA,GAAa,CACtBN,EAAS,UAAU,IAAI,WAAW,CAClC"}